var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function d(){return u(" ")}function m(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}let f;function p(t){f=t}function $(t){(function(){if(!f)throw new Error("Function called outside component initialization");return f})().$$.on_mount.push(t)}function v(){const t=f;return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach(e=>{e.call(t,o)})}}}const y=[],b=[],I=[],w=[],k=Promise.resolve();let _=!1;function x(t){I.push(t)}function E(){const t=new Set;do{for(;y.length;){const t=y.shift();p(t),L(t.$$)}for(;b.length;)b.pop()();for(let e=0;e<I.length;e+=1){const n=I[e];t.has(n)||(n(),t.add(n))}I.length=0}while(y.length);for(;w.length;)w.pop()();_=!1}function L(t){t.fragment&&(t.update(t.dirty),i(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(x))}const C=new Set;let S;function V(t,e){t&&t.i&&(C.delete(t),t.i(e))}function N(t,e,n,i){if(t&&t.o){if(C.has(t))return;C.add(t),S.c.push(()=>{C.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function j(t,n,a){const{fragment:r,on_mount:c,on_destroy:l,after_update:s}=t.$$;r.m(n,a),x(()=>{const n=c.map(e).filter(o);l?l.push(...n):i(n),t.$$.on_mount=[]}),s.forEach(x)}function B(t,e){t.$$.fragment&&(i(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function A(t,e){t.$$.dirty||(y.push(t),_||(_=!0,k.then(E)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function O(e,o,a,r,c,l){const s=f;p(e);const u=o.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:n(),dirty:null};let m=!1;var g;d.ctx=a?a(e,u,(t,n)=>{d.ctx&&c(d.ctx[t],d.ctx[t]=n)&&(d.bound[t]&&d.bound[t](n),m&&A(e,t))}):u,d.update(),m=!0,i(d.before_update),d.fragment=r(d.ctx),o.target&&(o.hydrate?d.fragment.l((g=o.target,Array.from(g.childNodes))):d.fragment.c(),o.intro&&V(e.$$.fragment),j(e,o.target,o.anchor),E()),p(s)}class U{$destroy(){B(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function M(e){var n,i,o,a;return{c(){n=s("div"),g(i=s("img"),"class","image svelte-1ph7knk"),g(i,"src",o=`https://picsum.photos/id/${e.imageId}/${e.width}/${e.height}`),g(i,"alt",e.alt),a=m(n,"click",e.click_handler)},m(t,e){c(t,n,e),r(n,i)},p(t,e){(t.imageId||t.width||t.height)&&o!==(o=`https://picsum.photos/id/${e.imageId}/${e.width}/${e.height}`)&&g(i,"src",o),t.alt&&g(i,"alt",e.alt)},i:t,o:t,d(t){t&&l(n),a()}}}function P(t,e,n){let{width:i=300,height:o=i,imageId:a=0,alt:r="an image",src:c=""}=e;const l=v();return t.$set=(t=>{"width"in t&&n("width",i=t.width),"height"in t&&n("height",o=t.height),"imageId"in t&&n("imageId",a=t.imageId),"alt"in t&&n("alt",r=t.alt),"src"in t&&n("src",c=t.src)}),{width:i,height:o,imageId:a,alt:r,src:c,dispatch:l,click_handler:function(){return l("showImage",{imageSource:c})}}}class T extends U{constructor(t){super(),O(this,t,P,M,a,["width","height","imageId","alt","src"])}}function q(t,e,n){const i=Object.create(t);return i.imageItem=e[n],i}function z(t){var e,n=new T({props:{width:"300",height:"200",imageId:t.imageItem.id,alt:t.imageItem.author,src:t.imageItem.download_url}});return n.$on("showImage",t.onImageClicked),{c(){n.$$.fragment.c()},m(t,i){j(n,t,i),e=!0},p(t,e){var i={};t.imageList&&(i.imageId=e.imageItem.id),t.imageList&&(i.alt=e.imageItem.author),t.imageList&&(i.src=e.imageItem.download_url),n.$set(i)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){N(n.$$.fragment,t),e=!1},d(t){B(n,t)}}}function F(e){var n;return{c(){g(n=s("div"),"class","svelte-1cho4o7")},m(t,e){c(t,n,e)},p:t,d(t){t&&l(n)}}}function H(t){var e,n,i,o,a=t.page-1;return{c(){e=s("button"),n=u("‹‹ "),i=u(a),g(e,"class","svelte-1cho4o7"),o=m(e,"click",t.onClickBack)},m(t,o){c(t,e,o),r(e,n),r(e,i)},p(t,e){t.page&&a!==(a=e.page-1)&&h(i,a)},d(t){t&&l(e),o()}}}function D(t){var e,n;return{c(){g(e=s("div"),"class","overlay svelte-1cho4o7"),g(e,"style",t.overlayStyle),n=m(e,"click",t.click_handler)},m(t,n){c(t,e,n)},p(t,n){t.overlayStyle&&g(e,"style",n.overlayStyle)},d(t){t&&l(e),n()}}}function G(t){for(var e,n,o,a,f,p,$,v,y,b,I,w,k,_,x,E,L,C=t.page+1,j=t.imageList,B=[],A=0;A<j.length;A+=1)B[A]=z(q(t,j,A));const O=t=>N(B[t],1,1,()=>{B[t]=null});function U(t){return t.page>1?H:F}var M=U(t),P=M(t),T=t.overlayVisible&&D(t);return{c(){e=s("div"),(n=s("div")).innerHTML='<h1 class="svelte-1cho4o7">Svelte Example Lorem Picsum</h1>',o=d(),a=s("div"),f=s("div");for(var i=0;i<B.length;i+=1)B[i].c();p=d(),$=s("div"),P.c(),v=d(),y=s("div"),b=u(t.page),I=d(),w=s("button"),k=u(C),_=u(" ››"),x=d(),T&&T.c(),g(n,"class","header svelte-1cho4o7"),g(f,"class","images svelte-1cho4o7"),g(y,"class","svelte-1cho4o7"),g(w,"class","svelte-1cho4o7"),g($,"class","buttons svelte-1cho4o7"),g(a,"class","container svelte-1cho4o7"),g(e,"class","content svelte-1cho4o7"),L=m(w,"click",t.onClickNext)},m(t,i){c(t,e,i),r(e,n),r(e,o),r(e,a),r(a,f);for(var l=0;l<B.length;l+=1)B[l].m(f,null);r(a,p),r(a,$),P.m($,null),r($,v),r($,y),r(y,b),r($,I),r($,w),r(w,k),r(w,_),r(e,x),T&&T.m(e,null),E=!0},p(t,n){if(t.imageList){j=n.imageList;for(var o=0;o<j.length;o+=1){const e=q(n,j,o);B[o]?(B[o].p(t,e),V(B[o],1)):(B[o]=z(e),B[o].c(),V(B[o],1),B[o].m(f,null))}for(S={r:0,c:[],p:S},o=j.length;o<B.length;o+=1)O(o);S.r||i(S.c),S=S.p}M===(M=U(n))&&P?P.p(t,n):(P.d(1),(P=M(n))&&(P.c(),P.m($,v))),E&&!t.page||h(b,n.page),E&&!t.page||C===(C=n.page+1)||h(k,C),n.overlayVisible?T?T.p(t,n):((T=D(n)).c(),T.m(e,null)):T&&(T.d(1),T=null)},i(t){if(!E){for(var e=0;e<j.length;e+=1)V(B[e]);E=!0}},o(t){B=B.filter(Boolean);for(let t=0;t<B.length;t+=1)N(B[t]);E=!1},d(t){t&&l(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(B,t),P.d(),T&&T.d(),L()}}}function J(t,e,n){let{page:i=1,limit:o=6}=e,a=!1,r=[],c="";$(()=>{l()});const l=async()=>{const t=await fetch(`https://picsum.photos/v2/list?page=${i}&limit=${o}`),e=await t.json();n("imageList",r=e)};let s;return t.$set=(t=>{"page"in t&&n("page",i=t.page),"limit"in t&&n("limit",o=t.limit)}),t.$$.update=((t={overlayVisible:1,overlayImageUrl:1})=>{(t.overlayVisible||t.overlayImageUrl)&&n("overlayStyle",s=a?`background-image: url("${c}");`:"")}),{page:i,limit:o,overlayVisible:a,imageList:r,onClickNext:async()=>{n("page",++i),l()},onClickBack:async()=>{1!==i&&(n("page",--i),l())},onImageClicked:t=>{n("overlayImageUrl",c=t.detail.imageSource),n("overlayVisible",a=!0)},overlayStyle:s,click_handler:function(t){const e=a=!1;return n("overlayVisible",a),e}}}return new class extends U{constructor(t){super(),O(this,t,J,G,a,["page","limit"])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
